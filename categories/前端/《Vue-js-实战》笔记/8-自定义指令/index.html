<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/avatar32.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/avatar32.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/avatar32.png"><link rel="mask-icon" href="/images/avatar.ico" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="//fonts.loli.net/css?family=EB Garamond:300,300italic,400,400italic,700,700italic|Cinzel Decorative:300,300italic,400,400italic,700,700italic|Source Code Pro:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-minimal.css"><script src="//cdn.jsdelivr.net/npm/pace-js@1/pace.min.js"></script><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Muse",version:"7.8.0",exturl:!1,sidebar:{position:"right",width:200,display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!1,style:"default"},back2top:{enable:!0,sidebar:!0,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!0,lazyload:!1,pangu:!1,algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideRightIn"}},sidebarPadding:40}</script><script data-ad-client="ca-pub-1414767122267457" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><meta name="description" content="8.1 基本用法1234567891011121314&#x2F;&#x2F;全局注册Vue.directive(&amp;#x27;forcus&amp;#x27;,&amp;#123;    &#x2F;&#x2F;指令选项&amp;#125;);&#x2F;&#x2F;局部注册var app &#x3D; new Vue(&amp;#123;    el:&amp;#x27;#app&amp;#x27;,    directives:&amp;#123;        focus:&amp;#123;            &#x2F;&#x2F;指"><meta property="og:type" content="article"><meta property="og:title" content="8.自定义指令"><meta property="og:url" content="https://linxiaoki.github.io/categories/%E5%89%8D%E7%AB%AF/%E3%80%8AVue-js-%E5%AE%9E%E6%88%98%E3%80%8B%E7%AC%94%E8%AE%B0/8-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4/index.html"><meta property="og:site_name" content="人间且慢行"><meta property="og:description" content="8.1 基本用法1234567891011121314&#x2F;&#x2F;全局注册Vue.directive(&amp;#x27;forcus&amp;#x27;,&amp;#123;    &#x2F;&#x2F;指令选项&amp;#125;);&#x2F;&#x2F;局部注册var app &#x3D; new Vue(&amp;#123;    el:&amp;#x27;#app&amp;#x27;,    directives:&amp;#123;        focus:&amp;#123;            &#x2F;&#x2F;指"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2019-08-02T00:00:00.000Z"><meta property="article:modified_time" content="2019-08-13T00:00:00.000Z"><meta property="article:author" content="我的名字"><meta property="article:tag" content="Web"><meta property="article:tag" content="Vue"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://linxiaoki.github.io/categories/%E5%89%8D%E7%AB%AF/%E3%80%8AVue-js-%E5%AE%9E%E6%88%98%E3%80%8B%E7%AC%94%E8%AE%B0/8-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><link href="https://fonts.loli.net/css?family=Noto+Serif+SC:400,500,700&display=swap&subset=chinese-simplified" rel="stylesheet"><link href="https://fonts.loli.net/css?family=EB+Garamond:400,500,700&display=swap" rel="stylesheet"><link href="https://fonts.loli.net/css?family=Cinzel+Decorative&display=swap" rel="stylesheet"><link href="https://fonts.loli.net/css?family=Source+Code+Pro&display=swap" rel="stylesheet"><title>8.自定义指令 | 人间且慢行</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-168149316-1"></script><script data-pjax>function gtag(){dataLayer.push(arguments)}CONFIG.hostname===location.hostname&&(window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-168149316-1"))</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">人间且慢行</h1><span class="logo-line-after"><i></i></span></a></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><a href="https://github.com/linxiaoki" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg style="fill:#008b8b" width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://linxiaoki.github.io/categories/%E5%89%8D%E7%AB%AF/%E3%80%8AVue-js-%E5%AE%9E%E6%88%98%E3%80%8B%E7%AC%94%E8%AE%B0/8-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="我的名字"><meta itemprop="description" content="一起滚月球吧·"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="人间且慢行"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">8.自定义指令</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019/08/02 00:00:00" itemprop="dateCreated datePublished" datetime="2019-08-02T00:00:00+00:00">2019/08/02</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2019/08/13 00:00:00" itemprop="dateModified" datetime="2019-08-13T00:00:00+00:00">2019/08/13</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text"></span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a> </span>, <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E5%89%8D%E7%AB%AF/%E3%80%8AVue-js-%E5%AE%9E%E6%88%98%E3%80%8B%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">《Vue.js 实战》笔记</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>7k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>6 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h4 id="8-1-基本用法"><a href="#8-1-基本用法" class="headerlink" title="8.1 基本用法"></a>8.1 基本用法</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">//</span>全局注册</span><br><span class="line">Vue.directive(<span class="string">&#x27;forcus&#x27;</span>,&#123;</span><br><span class="line">    <span class="regexp">//</span>指令选项</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="regexp">//</span>局部注册</span><br><span class="line">var app = new Vue(&#123;</span><br><span class="line">    el:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    directives:&#123;</span><br><span class="line">        focus:&#123;</span><br><span class="line">            <span class="regexp">//</span>指令选项</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><span id="more"></span><p>自定义指令的选项是由几个钩子函数组成的。</p><ul><li><strong><code>bind:</code></strong> 只调用一次，指令第一次绑定到元素时调用，用这个钩子函数可以定义一个在绑定时执行一次的初始化动作．</li><li><strong><code>inserted:</code></strong> 被绑定元素插入父节点时调用（父节点存在即可调用，不必存在于 document 中）。</li><li><strong><code>update:</code></strong> 被绑定元素所在的模板更新时调用，而不论绑定值是否变化。通过比较更新前后的绑定值，可以忽略不必要的模板更新。</li><li><strong><code>componentUpdated:</code></strong> 被绑定元素所在模板完成一次更新周期时调用。</li><li><strong><code>unbind:</code></strong> 只调用一次，指令与元素解绑时调用 。</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//directive: focus   v-focus (自动加V)</span></span><br><span class="line">div<span class="comment">#app </span></span><br><span class="line">    input[type=<span class="string">&quot;text&quot;</span>][v-focus]</span><br><span class="line">script</span><br><span class="line">    Vue.directive(<span class="string">&#x27;focus&#x27;</span>,&#123;</span><br><span class="line">        inservted:<span class="function"><span class="keyword">function</span>(<span class="params">el</span>)</span>&#123;</span><br><span class="line">            el.focus();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">        el:<span class="string">&#x27;#app&#x27;</span></span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><p>每个钩子函数都有几个参数可用：</p><ul><li><strong><code>el:</code></strong> 指令绑定的元素，可以用来直接操作DOM</li><li><strong><code>binding:</code></strong> 一个对象，包含以下属性：<ul><li><strong><code>name</code></strong> 指令名，不包括 <code>v-</code> 前缀。</li><li><strong><code>value</code></strong> 指令的绑定值，例如 v-my-directive＝”1 + 1 “，value 的值是2</li><li><strong><code>oldValue</code></strong> 指令绑定的前一个值，仅在 update 和 componentUpdated 钩子中可用．无论值是否改变都可用。</li><li><strong><code>expression</code></strong> 绑定值的字符串形式 。 例如 v-my-directive=”1 + 1”, expression 的值是”1 + 1”。</li><li><strong><code>arg</code></strong> 传给指令的参数。例如v-my-directive：foo, arg的值是 foo 。</li><li><strong><code>modifiers</code></strong> 一个包含修饰符的对象。 例如 v-my-directive.foo.bar，修饰符对象 modifiers 的值是 {foo: true, bar: true}。</li></ul></li><li><strong><code>vnode</code></strong> Vue编译生成的虚拟节点</li><li><strong><code>oldVnode</code></strong> 上一个虚拟节点仅在 update 和 componentUpdated 钩子中可用。</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//绑定时输出一些属性</span></span><br><span class="line">div#app</span><br><span class="line">    div[v-test:msg.a.b=<span class="string">&quot;message&quot;</span>]</span><br><span class="line">script</span><br><span class="line">    Vue.directive(<span class="string">&#x27;test&#x27;</span>,&#123;</span><br><span class="line">        <span class="attr">bind</span>:<span class="function"><span class="keyword">function</span>(<span class="params">el,binding,vnode</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> keys=[];</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">in</span> vnode)&#123;</span><br><span class="line">                keys.push(i);</span><br><span class="line">            &#125;</span><br><span class="line">            el.innerHTML=</span><br><span class="line">                <span class="string">&#x27;name: &#x27;</span>+binding.name+<span class="string">&#x27;&lt;br&gt;&#x27;</span>+</span><br><span class="line">                <span class="string">&#x27;value: &#x27;</span>+binding.value+<span class="string">&#x27;&lt;br&gt;&#x27;</span>+</span><br><span class="line">                <span class="string">&#x27;expression: &#x27;</span>+binding.expression+<span class="string">&#x27;&lt;br&gt;&#x27;</span>+</span><br><span class="line">                <span class="string">&#x27;argument: &#x27;</span>+binding.arg+<span class="string">&#x27;&lt;br&gt;&#x27;</span>+</span><br><span class="line">                <span class="string">&#x27;mpdifiers: &#x27;</span>+<span class="built_in">JSON</span>.stringify(binding.modifiers)+<span class="string">&#x27;&lt;br&gt;&#x27;</span>+</span><br><span class="line">                <span class="string">&#x27;vnode keys: &#x27;</span>+keys.json(<span class="string">&#x27;,  &#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">        <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">        <span class="attr">data</span>:&#123;</span><br><span class="line">            <span class="attr">message</span>:<span class="string">&#x27;some text&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><p>一般在<code>bind</code>钩子里绑定一些时间，比如在 <code>document</code> 上用 <code>addEventListener</code>绑定，在<code>unbind</code>里用<code>removeEventistener</code>解绑。</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">div</span><span class="comment">#app </span></span><br><span class="line">    <span class="keyword">div</span>[v-test=<span class="string">&quot;&#123;msg:&#x27;hello&#x27;,name:&#x27;Aresn&#x27;&#125;&quot;</span>]</span><br><span class="line"><span class="keyword">script</span></span><br><span class="line">    Vue.directive(&#x27;test&#x27;,&#123;</span><br><span class="line">        bind:function(el,binding,vnode)&#123;</span><br><span class="line">            console.<span class="built_in">log</span>(binding.value.msg);</span><br><span class="line">            console.<span class="built_in">log</span>(binding.value.<span class="built_in">name</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    var app = new Vue(&#123;</span><br><span class="line">        el:&#x27;<span class="comment">#app&#x27;</span></span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><h4 id="8-2-实战"><a href="#8-2-实战" class="headerlink" title="8.2 实战"></a>8.2 实战</h4><h5 id="下拉菜单"><a href="#下拉菜单" class="headerlink" title="下拉菜单"></a>下拉菜单</h5><p>实现点击空白处关闭菜单<br>index.html , clickoutside.js , style.css</p><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//#index.html[v-cloak]</span></span><br><span class="line">div#app</span><br><span class="line">    div.main[v-clickoutside.esc=<span class="string">&quot;handleClose&quot;</span>]</span><br><span class="line">    button[@click=<span class="string">&quot;show=!show&quot;</span>]&#123;点击显示下拉菜单&#125;</span><br><span class="line">    div.dropdown[v-show=<span class="string">&quot;show&quot;</span>]</span><br><span class="line">        p&#123;下拉框的内容，点击外面区域可关闭&#125;</span><br><span class="line"></span><br><span class="line">script src=<span class="string">&quot;clcikoutside.js&quot;</span></span><br><span class="line">script  </span><br><span class="line">    var app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">        el:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">        data:&#123;show:<span class="keyword">false</span>&#125;,</span><br><span class="line">        methods:&#123;</span><br><span class="line">            handleClose:function()&#123;</span><br><span class="line">                <span class="keyword">this</span>.show=<span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//----------------------------------</span></span><br><span class="line"><span class="comment">//clickoutside.js</span></span><br><span class="line">Vue.directive(<span class="string">&#x27;clickoutside&#x27;</span>,&#123;</span><br><span class="line">    bind:function(el,binding,vnode)&#123;</span><br><span class="line">        function documentHandler(e)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!el.contains(e.target) || e.keyup==<span class="number">27</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(binding.expression)&#123;</span><br><span class="line">                    binding.value();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        el.__vueClickOutside__=documentHandler;</span><br><span class="line">        document.addEventListener(<span class="string">&#x27;click&#x27;</span>,documentHandler);</span><br><span class="line">        <span class="keyword">if</span>(binding.modifiers.esc) document.addEventListener(<span class="string">&#x27;keyup&#x27;</span>,documentHandler);</span><br><span class="line">    &#125;;</span><br><span class="line">    unbind:function(el,binding)&#123;</span><br><span class="line">        document.removeEventListener(<span class="string">&#x27;click&#x27;</span>,el__vueClickOutside__);</span><br><span class="line">        <span class="keyword">if</span>(binding.modifiers.esc) document.removeEventListener(<span class="string">&#x27;keyup&#x27;</span>,el.__vueClickOutside__);</span><br><span class="line">        delete el.__vueClickOutside__;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="comment">//style.css</span></span><br><span class="line">[cloak]&#123;</span><br><span class="line">    display:none;</span><br><span class="line">&#125;</span><br><span class="line">.main&#123;</span><br><span class="line">    <span class="built_in">width</span>:<span class="number">100</span>px</span><br><span class="line">&#125;</span><br><span class="line">button&#123;</span><br><span class="line">    dispaly:block;</span><br><span class="line">    position:relative;</span><br><span class="line">    <span class="built_in">width</span>:<span class="number">100</span>%;</span><br><span class="line">    <span class="built_in">color</span>:#fff;</span><br><span class="line">    <span class="built_in">background</span>-<span class="built_in">color</span>:#<span class="number">39</span>f;</span><br><span class="line">    border:<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">text</span>-align:center;</span><br><span class="line">    font-<span class="built_in">size</span>:<span class="number">12</span>px,</span><br><span class="line">    border-radius:<span class="number">4</span>px;</span><br><span class="line">    outline:none;</span><br><span class="line">    <span class="built_in">cursor</span>:pointer;</span><br><span class="line">&#125;</span><br><span class="line">button:active&#123;</span><br><span class="line">    top:<span class="number">1</span>px;</span><br><span class="line">    left:<span class="number">1</span>px;</span><br><span class="line">    <span class="built_in">color</span>:<span class="built_in">red</span>;</span><br><span class="line">&#125;</span><br><span class="line">.dropdown&#123;</span><br><span class="line">    <span class="built_in">width</span>:<span class="number">100</span>%;</span><br><span class="line">    <span class="built_in">height</span>:<span class="number">110</span>px;</span><br><span class="line">    margin:<span class="number">5</span>px <span class="number">0</span>;</span><br><span class="line">    font-<span class="built_in">size</span>:<span class="number">12</span>px;</span><br><span class="line">    <span class="built_in">background</span>-<span class="built_in">color</span>:#fff;</span><br><span class="line">    border-radius:<span class="number">15</span>px;</span><br><span class="line">    <span class="built_in">box</span>-shadow:<span class="number">0</span> <span class="number">5</span>px <span class="number">16</span>px rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.2</span>);</span><br><span class="line">&#125;</span><br><span class="line">.dropdown p&#123;</span><br><span class="line">    display:inline-block;</span><br><span class="line">    padding:<span class="number">6</span>px</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="实时时间转换"><a href="#实时时间转换" class="headerlink" title="实时时间转换"></a>实时时间转换</h5><p>时间转换的逻辑：</p><ul><li>1分钟以前，显示“刚刚”</li><li>1分钟~1小时之间，显示“xx分钟前”</li><li>1小时~1天之间，显示“xx小时前”(&lt;24小时，但是已经过一天的显示“1天前”)</li><li>1天~1个月(31天)之间，显示“xx天前”</li><li>大于一个月，显示“xx年xx月xx日”</li></ul><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line">//<span class="keyword">index</span>.html</span><br><span class="line">div#app</span><br><span class="line">    v-<span class="type">time</span>=&quot;tmeNow&quot;</span><br><span class="line">    v-<span class="type">time</span>=&quot;tmeBefore&quot;</span><br><span class="line"></span><br><span class="line">script</span><br><span class="line">    app=<span class="built_in">new</span> Vue</span><br><span class="line">        data:&#123;</span><br><span class="line">            timeNow=(<span class="built_in">new</span> <span class="type">Date</span>()).getTime(),</span><br><span class="line">            timeBefore:<span class="keyword">function</span>()&#123;</span><br><span class="line">                var <span class="type">date</span>=<span class="built_in">new</span> <span class="type">Date</span>();</span><br><span class="line">                <span class="type">date</span>.setDate(<span class="number">5</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="type">date</span>.getTime();</span><br><span class="line">            &#125;()</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">//<span class="comment">------------------------------</span></span><br><span class="line">//<span class="type">time</span>.js</span><br><span class="line">var <span class="type">Time</span>=&#123;</span><br><span class="line">    //获取当前时间戳</span><br><span class="line">    getUnix:<span class="keyword">function</span>()&#123;</span><br><span class="line">        var <span class="type">date</span>=<span class="built_in">new</span> <span class="type">Date</span>();</span><br><span class="line">        <span class="keyword">return</span> <span class="type">date</span>.getTime();</span><br><span class="line">    &#125;,</span><br><span class="line">    //获取今天<span class="number">0</span>点<span class="number">0</span>分<span class="number">0</span>秒的时间戳</span><br><span class="line">    getTodayUnix:<span class="keyword">function</span>()&#123;</span><br><span class="line">        var <span class="type">date</span> = <span class="built_in">new</span> <span class="type">Date</span>();</span><br><span class="line">        <span class="type">date</span>.setSeconds(<span class="number">0</span>);</span><br><span class="line">        <span class="type">date</span>.setMinutes(<span class="number">0</span>);</span><br><span class="line">        <span class="type">date</span>.setHours(<span class="number">0</span>);</span><br><span class="line">        <span class="type">date</span>.setMilliseconds(<span class="number">0</span>);</span><br><span class="line">        //console.log(<span class="string">&#x27;今天的时间：&#x27;</span>+<span class="type">date</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="type">date</span>.getTime();</span><br><span class="line">    &#125;,</span><br><span class="line">    //获取今年<span class="number">1</span>月<span class="number">1</span>日<span class="number">0</span>点<span class="number">0</span>分<span class="number">0</span>秒的时间戳</span><br><span class="line">    getYearUnix:<span class="keyword">function</span>()&#123;</span><br><span class="line">        var <span class="type">date</span>=<span class="built_in">new</span> <span class="type">Date</span>();</span><br><span class="line">        <span class="type">date</span>.setMonth(<span class="number">0</span>);</span><br><span class="line">        <span class="type">date</span>.setDate(<span class="number">1</span>);</span><br><span class="line">        <span class="type">date</span>.setSeconds(<span class="number">0</span>);</span><br><span class="line">        <span class="type">date</span>.setMinutes(<span class="number">0</span>);</span><br><span class="line">        <span class="type">date</span>.setHours(<span class="number">0</span>);</span><br><span class="line">        <span class="type">date</span>.setMilliseconds(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="type">date</span>.getTime();</span><br><span class="line">    &#125;,</span><br><span class="line">    //返回 年月日格式</span><br><span class="line">    getLastDate:<span class="keyword">function</span>(<span class="type">time</span>)&#123;</span><br><span class="line">        var <span class="type">date</span>=<span class="built_in">new</span> <span class="type">Date</span>(<span class="type">time</span>);</span><br><span class="line">        var month = <span class="type">date</span>.getMonth()+<span class="number">1</span>&lt;<span class="number">10</span> ? <span class="string">&#x27;0&#x27;</span>+ (<span class="type">date</span>.getMonth()+<span class="number">1</span>) : <span class="type">date</span>.getMonth()+<span class="number">1</span>;</span><br><span class="line">        var day=<span class="type">date</span>.getDay()&lt;<span class="number">10</span> ? <span class="string">&#x27;0&#x27;</span>+<span class="type">date</span>.getDay() : <span class="type">date</span>.getDay();</span><br><span class="line">        <span class="keyword">return</span> <span class="type">date</span>.getFullYear()+<span class="string">&#x27;-&#x27;</span>+month+<span class="string">&#x27;-&#x27;</span>+day;</span><br><span class="line">    &#125;,</span><br><span class="line">    //转换时间</span><br><span class="line">    getFormatTime:<span class="keyword">function</span>(<span class="type">timestamp</span>)&#123;</span><br><span class="line">        var now=this.getUnix();  //当前时间戳</span><br><span class="line">        var today=this.getTodayUnix();  //今天<span class="number">0</span>点时间戳</span><br><span class="line">        var year = this.getYearUnix();  //今年<span class="number">0</span>点时间戳</span><br><span class="line">        var timer = (now-<span class="type">timestamp</span>)/<span class="number">1000</span>;  //转换为秒级时间戳</span><br><span class="line">        var tip=<span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        //<span class="keyword">if</span>(timer&lt;=<span class="number">0</span>) tip=<span class="string">&#x27;刚刚&#x27;</span>;</span><br><span class="line">        <span class="keyword">if</span>(Math.floor(timer/<span class="number">60</span>)&lt;=<span class="number">0</span> )&#123;  //放一块会有问题吗？ 是为了提高效率？// timer&lt;=<span class="number">60</span>不一样吗</span><br><span class="line">            tip=<span class="string">&#x27;刚刚&#x27;</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(timer&lt;<span class="number">3600</span>)&#123;</span><br><span class="line">            tip=Math.floor(timer/<span class="number">60</span>)+<span class="string">&#x27;分钟前&#x27;</span>;</span><br><span class="line">            //console.log(<span class="string">&#x27;?分钟&#x27;</span>+tip)</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(timer&gt;=<span class="number">3600</span> &amp;&amp; (<span class="type">timestamp</span>-today&gt;=<span class="number">0</span>))&#123; //timer&gt;=<span class="number">3600</span>  应该可以去掉吧</span><br><span class="line">            //<span class="type">timestamp</span> &gt; today?   <span class="type">timestamp</span>是当前的时间</span><br><span class="line">            //console.log(<span class="string">&#x27;?小时&#x27;</span>);</span><br><span class="line">            tip=Math.floor(timer/<span class="number">3600</span>)+<span class="string">&#x27;小时前&#x27;</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(timer/<span class="number">86400</span> &lt;=<span class="number">31</span>)&#123;    //<span class="number">24</span>*<span class="number">3600</span></span><br><span class="line">            //console.log(<span class="string">&#x27;天&#x27;</span>);</span><br><span class="line">            tip=Math.ceil(timer/<span class="number">86400</span>)+<span class="string">&#x27;天前&#x27;</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            //console.log(<span class="string">&#x27;getlastDate&#x27;</span>);</span><br><span class="line">            tip=this.getLastDate(<span class="type">timestamp</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        var date1=<span class="built_in">new</span> <span class="type">Date</span>(now);</span><br><span class="line">        var date2 = <span class="built_in">new</span> <span class="type">Date</span>(today);</span><br><span class="line">        var date3 = <span class="built_in">new</span> <span class="type">Date</span>(<span class="type">timestamp</span>);</span><br><span class="line">        //console.log(<span class="string">&#x27;now:&#x27;</span>+date1);</span><br><span class="line">        //console.log(<span class="string">&#x27;today:&#x27;</span>+date2);</span><br><span class="line">        //console.log(<span class="string">&#x27;timestamp:&#x27;</span>+date3);</span><br><span class="line">        //console.log(<span class="string">&#x27;now-timestamp:&#x27;</span>+(now-<span class="type">timestamp</span>));</span><br><span class="line">        //console.log(<span class="string">&#x27;timestamp-today:&#x27;</span>+(<span class="type">timestamp</span>-today));</span><br><span class="line">        <span class="keyword">return</span> tip;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Vue.directive(<span class="string">&#x27;time&#x27;</span>,&#123;</span><br><span class="line">    bind:<span class="keyword">function</span>(el,binding)&#123;</span><br><span class="line">        //第一次会延迟<span class="number">5</span>秒</span><br><span class="line">        el.innerHTML=<span class="type">Time</span>.getFormatTime(binding.<span class="keyword">value</span>),</span><br><span class="line">        el.__timeout__=setInterval(<span class="keyword">function</span>()&#123;</span><br><span class="line">            el.innerHTML=<span class="type">Time</span>.getFormatTime(binding.<span class="keyword">value</span>);</span><br><span class="line">        &#125;,<span class="number">5000</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    unbind:<span class="keyword">function</span>(el)&#123;</span><br><span class="line">        clearInterval(el.__timeout__);</span><br><span class="line">        <span class="keyword">delete</span> el.__timeout__;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></div><div><div><div style="text-align:center;color:#ccc;font-size:14px">-------------end-------------</div></div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/Web/" rel="tag"><i class="fa fa-tag"></i> Web</a> <a href="/tags/Vue/" rel="tag"><i class="fa fa-tag"></i> Vue</a></div><div class="post-nav"><div class="post-nav-item"><a href="/categories/%E5%89%8D%E7%AB%AF/Vue%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/vue2-0%E4%B8%AD%E7%9A%84-%EF%BC%9Ais%E5%92%8Cis%E7%9A%84%E5%8C%BA%E5%88%AB/" rel="prev" title="vue2.0中的 ：is和is的区别"><i class="fa fa-chevron-left"></i> vue2.0中的 ：is和is的区别</a></div><div class="post-nav-item"><a href="/categories/Python/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/1-3-%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86/" rel="next" title="1.3 数据采集">1.3 数据采集 <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments"><script src="https://utteranc.es/client.js" repo="linxiaoki/comments" issue-term="pathname" theme="github-light" crossorigin="anonymous" async></script></div><script>window.addEventListener("tabs:register",()=>{let{activeClass:e}=CONFIG.comments;if(CONFIG.comments.storage&&(e=localStorage.getItem("comments_active")||e),e){let t=document.querySelector(`a[href="#comment-${e}"]`);t&&t.click()}}),CONFIG.comments.storage&&window.addEventListener("tabs:click",t=>{t.target.matches(".tabs-comment .tab-content .tab-pane")&&(t=t.target.classList[1],localStorage.setItem("comments_active",t))})</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#8-1-%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="nav-number">1.</span> <span class="nav-text">8.1 基本用法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-2-%E5%AE%9E%E6%88%98"><span class="nav-number">2.</span> <span class="nav-text">8.2 实战</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%8B%E6%8B%89%E8%8F%9C%E5%8D%95"><span class="nav-number">2.1.</span> <span class="nav-text">下拉菜单</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AE%9E%E6%97%B6%E6%97%B6%E9%97%B4%E8%BD%AC%E6%8D%A2"><span class="nav-number">2.2.</span> <span class="nav-text">实时时间转换</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="我的名字" src="/images/avatar.gif"><p class="site-author-name" itemprop="name">我的名字</p><div class="site-description" itemprop="description">一起滚月球吧·</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">101</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">44</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">64</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/linxiaoki" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;linxiaoki" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a></span></div></div><div class="back-to-top motion-element"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">我的名字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-area-chart"></i> </span><span title="站点总字数">221k</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span title="站点阅读时长">3:21</span></div></div></footer></div><script color="0,134,139" opacity="0.6" zindex="22" count="199" src="/js/src/canvas-nest-nomobile.min.js"></script><script src="/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-pjax@0/pjax.min.js"></script><script src="//cdn.jsdelivr.net/npm/medium-zoom@1/dist/medium-zoom.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script><script>var pjax=new Pjax({selectors:["head title","#page-configurations",".content-wrap",".post-toc-wrap",".languages","#pjax"],switches:{".post-toc-wrap":Pjax.switches.innerHTML},analytics:!1,cacheBust:!1,scrollTo:!CONFIG.bookmark.enable});window.addEventListener("pjax:success",()=>{document.querySelectorAll("script[data-pjax], script#page-configurations, #pjax script").forEach(e=>{var t=e.text||e.textContent||e.innerHTML||"",a=e.parentNode;a.removeChild(e);var s=document.createElement("script");e.id&&(s.id=e.id),e.className&&(s.className=e.className),e.type&&(s.type=e.type),e.src&&(s.src=e.src,s.async=!1),void 0!==e.dataset.pjax&&(s.dataset.pjax=""),""!==t&&s.appendChild(document.createTextNode(t)),a.appendChild(s)}),NexT.boot.refresh(),CONFIG.motion.enable&&NexT.motion.integrator.init().add(NexT.motion.middleWares.subMenu).add(NexT.motion.middleWares.postList).bootstrap(),NexT.utils.updateSidebarPosition()})</script><script src="/js/local-search.js"></script><div id="pjax"></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({model:{jsonPath:"/live2dw/assets/hijiki.model.json"},display:{position:"left",vOffset:-75,hOffset:10,width:200,height:385},mobile:!1,react:{opacity:.7},log:!1,pluginJsPath:"lib/",pluginModelPath:"assets/",pluginRootPath:"live2dw/",tagMode:!1})</script></body></html>